{"remainingRequest":"C:\\Users\\2021SUNSEERP18\\Desktop\\Management_system\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\2021SUNSEERP18\\Desktop\\Management_system\\vue\\src\\views\\Home.vue?vue&type=style&index=0&id=fae5bece&lang=css&","dependencies":[{"path":"C:\\Users\\2021SUNSEERP18\\Desktop\\Management_system\\vue\\src\\views\\Home.vue","mtime":1680003403189},{"path":"C:\\Users\\2021SUNSEERP18\\Desktop\\Management_system\\vue\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\2021SUNSEERP18\\Desktop\\Management_system\\vue\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\2021SUNSEERP18\\Desktop\\Management_system\\vue\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\2021SUNSEERP18\\Desktop\\Management_system\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\2021SUNSEERP18\\Desktop\\Management_system\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5oZWFkZXJCZyB7CiAgYmFja2dyb3VuZDogI2VlZSFpbXBvcnRhbnQ7Cn0K"},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";AAkQA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <el-container style=\"min-height: 100vh\">\n    <el-container>\n      <el-header style=\"font-size: 12px; border-bottom: 1px solid #ccc; line-height: 60px; display: flex\">\n        <div style=\"flex: 1; font-size: 20px\">\n          <span  style=\"cursor: pointer\" @click=\"collapse\"></span>\n          <span><img src=\"../assets/logo.png\" alt=\"\" style=\"width: 40px; position: relative; top: 10px; right: 10px\"><b style=\"text-align: center\">社员管理系统</b></span>\n        </div>\n        <el-dropdown style=\"width: 70px; cursor: pointer\">\n          <span class=\"el-dropdown-link\">王小虎</span><i class=\"el-icon-arrow-down\" style=\"margin-left: 5px\"></i>\n          <el-dropdown-menu slot=\"dropdown\" >\n            <el-dropdown-item style=\"font-size: 14px; padding: 10px 10px\">个人信息</el-dropdown-item>\n            <el-dropdown-item  @click.native=\"go('/login')\">退出</el-dropdown-item>\n          </el-dropdown-menu>\n        </el-dropdown>\n\n      </el-header>\n\n      <el-main style=\"padding: 7px\">\n        <div style=\"margin: 10px 0\">\n          <el-input style=\"width: 200px\" placeholder=\"请输入名称\" suffix-icon=\"el-icon-search\" v-model=\"name\"></el-input>\n<!--          <el-input style=\"width: 200px\" placeholder=\"请输入邮箱\" suffix-icon=\"el-icon-message\" class=\"ml-5\"></el-input>-->\n<!--          <el-input style=\"width: 200px\" placeholder=\"请输入地址\" suffix-icon=\"el-icon-position\" class=\"ml-5\"></el-input>-->\n          <el-button class=\"ml-5\" type=\"primary\" @click=\"load\">搜索</el-button>\n          <el-button type=\"primary\" @click=\"add\" class=\"ml-5\" style=\"width: 100px;font-size:12px\"><b>新增</b></el-button>\n        </div>\n\n        <el-table :data=\"tableData\"\n                  max-height=\"644\"\n                  border stripe :header-cell-class-name=\"headerBg\">\n          <el-table-column prop=\"id\" label=\"ID\" width=\"80\"></el-table-column>\n          <el-table-column prop=\"name\" label=\"用户名\" width=\"160\"></el-table-column>\n          <el-table-column prop=\"ocupation\" label=\"职位\" width=\"240\"></el-table-column>\n          <el-table-column prop=\"email\" label=\"邮箱\" width=\"240\"></el-table-column>\n          <el-table-column prop=\"tel\" label=\"电话\" width=\"150\"></el-table-column>\n          <el-table-column prop=\"address\" label=\"地址\" width=\"auto\"></el-table-column>\n          <el-table-column label=\"操作\"  width=\"260\" align=\"center\">\n            <template slot-scope=\"scope\">\n              <el-button type=\"success\" @click=\"midfy(scope.row)\">编辑 <i class=\"el-icon-edit\"></i></el-button>\n              <el-button type=\"danger\" @click=\"del(scope.row)\">删除<i class=\"el-icon-remove-outline\"></i></el-button>\n            </template>\n          </el-table-column>\n        </el-table>\n        <div style=\"padding: 10px 0\">\n          <el-pagination\n              @size-change=\"handleSizeChange\"\n              @current-change=\"handleCurrentChange\"\n              :current-page=\"pageNum\"\n              :page-sizes=\"[15, 40, 60, 100]\"\n              :page-size=\"pageSize\"\n              layout=\"total, sizes, prev, pager, next, jumper\"\n              :total=\"total\">\n          </el-pagination>\n        </div>\n      </el-main>\n\n      <el-dialog\n          title=\"【提示】\"\n          :visible.sync=\"Visible\"\n          width=\"30%\"\n          :close-on-click-modal=\"false\"\n          center>\n        <span>你确定要删除这条数据吗？</span>\n        <span slot=\"footer\" class=\"dialog-footer\">\n    <el-button @click=\"Visible = false\">取 消</el-button>\n    <el-button type=\"primary\" @click=\"delect\">确 定</el-button>\n  </span>\n      </el-dialog>\n\n      <el-dialog\n          title=\"編集画面\"\n          :visible.sync=\"centerDialogVisible\"\n          :close-on-click-modal=\"false\"\n          center\n      >\n        <el-form :model=\"from\"  label-width=\"120px\" style=\"width: 85%\">\n          <el-form-item label=\"ID\" prop=\"id\">\n            <el-input v-model=\"from.id\" autocomplete=\"off\" :disabled=\"true\"/>\n          </el-form-item>\n          <el-form-item label=\"用户名\" prop=\"name\">\n            <el-input v-model=\"from.name\" autocomplete=\"off\"/>\n          </el-form-item>\n          <el-form-item label=\"职位\" prop=\"ocupation\">\n            <el-input v-model=\"from.ocupation\" autocomplete=\"off\"/>\n          </el-form-item>\n          <el-form-item label=\"邮箱\" prop=\"email\">\n            <el-input v-model=\"from.email\" autocomplete=\"off\"/>\n          </el-form-item>\n          <el-form-item label=\"电话\" prop=\"tel\">\n            <el-input v-model=\"from.tel\" autocomplete=\"off\"/>\n          </el-form-item>\n          <el-form-item label=\"地址\" prop=\"address\">\n            <el-input v-model=\"from.address\" autocomplete=\"off\"/>\n          </el-form-item>\n        </el-form>\n        <template #footer>\n      <span class=\"dialog-footer\">\n        <el-button @click=\"centerDialogVisible=false\">取り消し</el-button>\n        <el-button type=\"primary\" @click=\"save\">確定</el-button>\n      </span>\n        </template>\n      </el-dialog>\n\n\n      <el-dialog\n          title=\"新規追加画面\"\n          :visible.sync=\"dialogVisible\"\n          :close-on-click-modal=\"false\"\n          center\n      >\n        <el-form :model=\"from\"  ref=\"ruleFormRef\" label-width=\"120px\" style=\"width: 85%\">\n          <el-form-item label=\"用户名\" prop=\"name\">\n            <el-input v-model=\"from.name\" autocomplete=\"off\" placeholder=\"氏名を入力してください\" />\n          </el-form-item>\n          <el-form-item label=\"职位\" prop=\"ocupation\">\n            <el-input v-model=\"from.ocupation\" autocomplete=\"off\" placeholder=\"氏名を入力してください\" />\n          </el-form-item>\n          <el-form-item label=\"邮箱\" prop=\"email\">\n            <el-input v-model=\"from.email\" autocomplete=\"off\" placeholder=\"氏名を入力してください\" />\n          </el-form-item>\n          <el-form-item label=\"电话\" prop=\"tel\">\n            <el-input v-model=\"from.tel\" autocomplete=\"off\" placeholder=\"氏名を入力してください\" />\n          </el-form-item>\n          <el-form-item label=\"地址\" prop=\"address\">\n            <el-input v-model=\"from.address\" autocomplete=\"off\" placeholder=\"氏名を入力してください\" />\n          </el-form-item>\n        </el-form>\n        <template #footer>\n      <span class=\"dialog-footer\">\n        <el-button @click=\"close\">取り消し</el-button>\n        <el-button type=\"primary\" @click=\"save\">確定</el-button>\n      </span>\n        </template>\n      </el-dialog>\n\n    </el-container>\n  </el-container>\n</template>\n\n<script>\nimport { Dropdown, DropdownMenu, DropdownItem } from 'element-ui';\nexport default {\n  components: {\n    'el-dropdown': Dropdown,\n    'el-dropdown-menu': DropdownMenu,\n    'el-dropdown-item': DropdownItem\n  },\n  name: 'Home',\n  data() {\n    return {\n      tableData: [],\n      from:{},\n      dialogData:{},\n      total: 0,\n      pageNum: 1,\n      pageSize: 15,\n      name: \"\",\n      rules:[0],\n      dialogVisible:false,\n      centerDialogVisible:false,\n      Visible:false,\n      isCollapse: false,\n      sideWidth: 200,\n      logoTextShow: true,\n      headerBg: 'headerBg'\n    }\n  },\n  created() {\n    // 请求分页查询数据\n    this.load()\n  },\n  methods: {\n    collapse() {  // 点击收缩按钮触发\n      this.isCollapse = !this.isCollapse\n      if (this.isCollapse) {  // 收缩\n        this.sideWidth = 64\n        this.logoTextShow = false\n      } else {   // 展开\n        this.sideWidth = 200\n        this.logoTextShow = true\n      }\n    },\n    go(path){\n      console.log(this.$router)\n      console.log(\"AAAAAAAAAA\"+path)\n      this.$router.push('/login')\n      history.pushState(null, null, document.URL);\n      window.addEventListener(\"popstate\",function(e) {\n        history.pushState(null, null, document.URL);\n\n      }, false);\n    },\n    add(){\n      this.dialogVisible=true\n      this.from = {};\n    },\n    close(){\n      this.dialogVisible=false\n    },\n    midfy(row){\n      this.centerDialogVisible=true\n      this.from = JSON.parse(JSON.stringify(row));\n    },\n    del(row){\n      this.Visible = true\n      this.from = JSON.parse(JSON.stringify(row));\n    },\n    load() {\n      fetch(\"http://localhost:9090/page?pageNum=\"+this.pageNum+\"&pageSize=\" + this.pageSize +\"&name=\"+this.name)\n          .then(res => res.json())\n          .then(res => {\n        this.tableData = res.data\n        this.total = res.total\n      })\n    },\n    delect(){\n      fetch(\"http://localhost:9090/del/\"+this.from.id)\n          .then(res => res.json())\n          .then(res => {\n            this.Visible=false\n            this.load();\n          })\n    },\n    save(){\n      fetch(\"http://localhost:9090/add\",{\n        method:\"post\",\n        headers:{\n          \"Content-Type\":\"application/json\"\n        },\n        body:JSON.stringify({\n          id:this.from.id,\n          name:this.from.name,\n          ocupation:this.from.ocupation,\n          email:this.from.email,\n          tel:this.from.tel,\n          address:this.from.address\n        }),\n      }).then(res =>res.json())\n          .then(res=>{\n            this.dialogVisible=false\n            this.centerDialogVisible=false\n            this.Visible=false\n            this.load()\n          })\n    },\n    handleSizeChange(pageSize) {\n      this.pageSize = pageSize\n      this.load()\n    },\n    handleCurrentChange(pageNum) {\n      this.pageNum = pageNum\n      this.load()\n    }\n  }\n}\n</script>\n\n<style>\n.headerBg {\n  background: #eee!important;\n}\n</style>\n"]}]}